import{r as g,o as m,K as _,w as y,a as c,c as d,t as w,n as k,F as h,b as v,d as x,e as L,f as p,g as G,u as f,h as I,i as A,j as O}from"./vendor.2af684b1.js";const C=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const e of s)if(e.type==="childList")for(const r of e.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&a(r)}).observe(document,{childList:!0,subtree:!0});function l(s){const e={};return s.integrity&&(e.integrity=s.integrity),s.referrerpolicy&&(e.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?e.credentials="include":s.crossorigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function a(s){if(s.ep)return;s.ep=!0;const e=l(s);fetch(s.href,e)}};C();const K={class:"simple-keyboard"},P={props:{guessedLetters:Object},emits:["onKeyPress"],setup(u,{emit:t}){const l=u,a=g(null),s=e=>{t("onKeyPress",e)};return m(()=>{a.value=new _("simple-keyboard",{layout:{default:["q w e r t y u i o p","a s d f g h j k l","{enter} z x c v b n m {bksp}"]},onKeyPress:s})}),y(()=>l.guessedLetters,(e,r)=>{a.value.addButtonTheme(e.miss.join(" "),"miss"),a.value.addButtonTheme(e.found.join(" "),"found"),a.value.addButtonTheme(e.hint.join(" "),"hint")},{deep:!0}),(e,r)=>(c(),d("div",K))}},S={props:{letter:{type:String,default:""},color:{type:String,default:""}},setup(u){return(t,l)=>(c(),d("div",{class:k(["col-span-1 flex items-center justify-center h-16 uppercase border-2 border-gray-200 transition-all duration-300",{"border-gray-500 bg-gray-500 text-white":u.color=="gray","border-green-600 bg-green-600 text-white":u.color=="green","border-yellow-500 bg-yellow-500 text-white":u.color=="yellow"}])},w(u.letter),3))}},j={class:"grid max-w-xs grid-cols-5 gap-1 mx-auto mb-1"},B={props:{value:String,solution:String,submitted:Boolean},setup(u){const t=u,l=g(["","","","","",""]);return y(()=>t.submitted,async(a,s)=>{if(t.submitted){let e=t.solution,r=t.value,i=["gray","gray","gray","gray","gray"],n=[];for(let o=0;o<5;o++)e.charAt(o)==r.charAt(o)?i[o]="green":n.push(e.charAt(o));for(let o=0;o<5;o++)i[o]=="gray"&&n.indexOf(r.charAt(o))!=-1&&(n.splice(n.indexOf(r.charAt(o)),1),i[o]="yellow"),l.value[o]=i[o],await new Promise(b=>setTimeout(b,500))}}),(a,s)=>(c(),d("div",j,[(c(),d(h,null,v(5,e=>x(S,{key:e,letter:u.value[e-1],color:l.value[e-1]},null,8,["letter","color"])),64))]))}},N={class:"flex flex-col h-screen max-w-md mx-auto justify-evenly"},$={key:0,class:"text-center"},T={key:1,class:"text-center"},z={setup(u){const t=L({solution:"books",guesses:["","","","","",""],currentGuessIndex:0,guessedLetters:{miss:[],found:[],hint:[]}}),l=p(()=>t.guesses[t.currentGuessIndex-1]===t.solution),a=p(()=>!l.value&&t.currentGuessIndex>=6),s=e=>{if(t.currentGuessIndex>=6||l.value)return;const r=t.guesses[t.currentGuessIndex];if(e=="{enter}"){if(r.length==5){t.currentGuessIndex++;for(var i=0;i<r.length;i++){let n=r.charAt(i);n==t.solution.charAt(i)?t.guessedLetters.found.push(n):t.solution.indexOf(n)!=-1?t.guessedLetters.hint.push(n):t.guessedLetters.miss.push(n)}}}else e=="{bksp}"?t.guesses[t.currentGuessIndex]=r.slice(0,-1):r.length<5&&/[a-zA-Z]/.test(e)&&(t.guesses[t.currentGuessIndex]+=e)};return m(()=>{window.addEventListener("keyup",e=>{e.preventDefault();let r=e.keyCode==13?"{enter}":e.keyCode==8?"{bksp}":String.fromCharCode(e.keyCode).toLowerCase();s(r)})}),(e,r)=>(c(),d("div",N,[G("div",null,[(c(!0),d(h,null,v(f(t).guesses,(i,n)=>(c(),A(B,{key:n,value:i,solution:f(t).solution,submitted:n<f(t).currentGuessIndex},null,8,["value","solution","submitted"]))),128))]),f(l)?(c(),d("p",$,"Congrats you solved it!")):f(a)?(c(),d("p",T,"Out of tries")):I("",!0),x(P,{onOnKeyPress:s,guessedLetters:f(t).guessedLetters},null,8,["guessedLetters"])]))}};O(z).mount("#app");
